<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 297028 Maintainer: seros Status: ready -->
<refentry xmlns="http://docbook.org/ns/docbook" xml:id="function.session-destroy">
 <refnamediv>
  <refname>session_destroy</refname>
  <refpurpose>Destruye toda la información registrada de una sesión</refpurpose>
 </refnamediv>
 
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>bool</type><methodname>session_destroy</methodname>
   <void/>
  </methodsynopsis>
  <simpara>
   <function>session_destroy</function> destruye toda la información asociada
   con la sesión actual. No destruye ninguna de las variables globales
   asociadas con la sesión, ni destruye la cookie de sesión.
   Para volver a utilizar las variables de sesión se debe llamar a <function>session_start</function>.
  </simpara>
  <para>
   Para destruir la sesión completamente, como desconectar al usuario, el
   id de sesión también debe ser destruido. Si se usa una cookie para propagar el
   id de sesión (comportamiento por defecto), entonces la cookie de sesión se debe borrar.
   <function>setcookie</function> se puede usar para eso.
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   &return.success;
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Destruir una sesión con <varname>$_SESSION</varname></title>
    <programlisting role="php">
<![CDATA[
<?php
// Inicializar la sesión.
// Si está usando session_name("algo"), ¡no lo olvide ahora!
session_start();

// Destruir todas las variables de sesión.
$_SESSION = array();

// Si se desea destruir la sesión completamente, borre también la cookie de sesión.
// Nota: ¡Esto destruirá la sesión, y no la información de la sesión!
if (ini_get("session.use_cookies")) {
    $params = session_get_cookie_params();
    setcookie(session_name(), '', time() - 42000,
        $params["path"], $params["domain"],
        $params["secure"], $params["httponly"]
    );
}

// Finalmente, destruir la sesión.
session_destroy();
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="notes">
  &reftitle.notes;
  <note>
   <para>
    Usar sólo <function>session_unset</function> para códigos antiguos obsoletos
    que no usan <varname>$_SESSION</varname>.
   </para>
  </note>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>unset</function></member>
    <member><function>setcookie</function></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
