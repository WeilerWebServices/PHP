<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 331735 Maintainer: seros Status: ready -->
<!-- Reviewed: no -->
<refentry xml:id="function.oci-set-client-identifier" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>oci_set_client_identifier</refname>
  <refpurpose>Establece el identificador del cliente</refpurpose>
 </refnamediv>
 
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>bool</type><methodname>oci_set_client_identifier</methodname>
   <methodparam><type>resource</type><parameter>connection</parameter></methodparam>
   <methodparam><type>string</type><parameter>client_identifier</parameter></methodparam>
  </methodsynopsis>
  <para>
   Establece el identificador del cliente usado por varios componentes de la base de datos
   para identificar usuarios de aplicaciones ligeras que se identificaron con el mismo
   usuario de base de datos.
  </para>
  <para>
   El identificador del cliente se registra con la base de datos cuando ocurra el
   siguiente "viaje de ida y vuelta" desde PHP a la base de datos, normalemnte cuando una
   sentencia SQL es ejecutada.
  </para>
  <para>
   El identificador puede ser consultado subsiguientemente, por ejemplo,
   con <literal>SELECT SYS_CONTEXT('USERENV','CLIENT_IDENTIFIER')
   FROM DUAL</literal>. Las vistas de administración de la base de datos como
   <literal>V$SESSION</literal> también contendrán el valor. Se
   puede usar con <literal>DBMS_MONITOR.CLIENT_ID_TRACE_ENABLE</literal>
   para rastreo y también para auditoría.
  </para>
  <para>
   El valor podría mantenerse entre peticiones de páginas que usen la misma conexión persistente.
  </para>
 </refsect1>
 
 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>connection</parameter></term>
     <listitem>
      &oci.parameter.connection;
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>client_identifier</parameter></term>
     <listitem>
      <para>
       La cadena elegida por el usuario, hasta 64 bytes de longitud.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>
 
 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   &return.success;
  </para>
 </refsect1>
 
 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Establecer el identificador del cliente para el usuario de la aplicación</title>
    <programlisting role="php">
<![CDATA[
<?php

// Buscar el nombre de identificación de usuario de la aplicación
session_start();
$un = my_validate_session($_SESSION['username']);
$c = oci_connect('myschema', 'welcome', 'localhost/XE');

// Indicar a Oracle qué usuario es
oci_set_client_identifier($c, $un);

// El siguiente viaje de ida y vuelta a la base de datos adjuntará el identificador
$s = oci_parse($c, 'select mydata from mytable');
oci_execute($s);

// ...

?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>
 
 <refsect1 role="notes">
  &reftitle.notes;
  &oci.roundtrip.caution;
 </refsect1>
 
 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>oci_set_module_name</function></member>
    <member><function>oci_set_action</function></member>
    <member><function>oci_set_client_info</function></member>
   </simplelist>
  </para>
 </refsect1>
 
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
